\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{thesisdefinitions}[2021/12/01 package thesis defintions]

% TIKZ stuff
\RequirePackage{environ}
\RequirePackage{tikz}
\makeatletter
\usetikzlibrary{
  decorations.pathreplacing,
  positioning,
  matrix,
  arrows.meta,
  graphs,
  shapes.misc,
  shapes.symbols,
  shapes.geometric,
  fit}


\newsavebox{\tikzpic}
\NewEnviron{tikzdiagram_h}{%
  \begin{lrbox}{\tikzpic}%
    \begin{tikzpicture}
      \BODY
    \end{tikzpicture}
  \end{lrbox}
  \begin{center}
    \resizebox{!}{.7\textheight}{\usebox{\tikzpic}}
  \end{center}
}

\NewEnviron{tikzdiagram_w}{%
  \begin{lrbox}{\tikzpic}%
    \begin{tikzpicture}
      \BODY
    \end{tikzpicture}
  \end{lrbox}%
  \begin{center}
    \resizebox{\textwidth}{!}{\usebox{\tikzpic}}
  \end{center}
}

\makeatother

\newsavebox{\sizedbox}
\NewEnviron{sized}[2]{%
  \begin{lrbox}{\sizedbox}%
    \BODY
  \end{lrbox}
  \resizebox{#1}{#2}{\usebox{\sizedbox}}
}



\RequirePackage{amsmath}
\RequirePackage{adjustbox}
\RequirePackage{cancel}
\RequirePackage{emoji}

\newcommand{\lsemi}{\ltimes}
\newcommand{\rsemi}{\rtimes}
\newcommand{\lnsemi}{\cancel\ltimes}
\newcommand{\rnsemi}{\cancel\rtimes}

\newcommand{\li}{\mathit{lineitem}}
\newcommand{\ord}{\mathit{order}}
\newcommand{\cust}{\mathit{customer}}
\newcommand{\nation}{\mathit{nation}}


\RequirePackage{float}
\RequirePackage{caption}
\RequirePackage[outputdir=./build/,newfloat,draft=false]{minted}
\setminted{autogobble=true,breaklines=true,linenos=true}
\RequirePackage{fontspec}
\setmonofont{FiraCode}[Scale=0.7]
\newminted{sql}{}
\newminted{cpp}{}
\newminted{haskell}{}
\newminted{py}{}
\newenvironment{code}{\captionsetup{type=listing}}{}

\newcommand{\hask}[1]{\mintinline{haskell}{#1}}
\newcommand{\py}[1]{\mintinline{python}{#1}}
\newcommand{\cpp}[1]{\mintinline{cpp}{#1}}
\newcommand{\sql}[1]{\mintinline{sql}{#1}}
